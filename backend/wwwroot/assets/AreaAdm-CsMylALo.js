import{_ as A,r as x,g as E,c as r,h as g,a as e,e as z,F as y,f as b,t as n,w as $,v as M,o as i,l as m}from"./index-B_mn7p7y.js";import N from"./SideBar-CB9zmdFx.js";import j from"./HeaderAdm--6hzYapc.js";import{a as p}from"./api-AOc8D3zR.js";import"./ej branco-CvHQ7iQt.js";const B={class:"flex min-h-screen bg-gray-50"},D={class:"flex-1 md:ml-64"},F={class:"max-w-7xl mx-auto px-4 py-6"},V={class:"mt-6 space-y-6"},I={class:"bg-white rounded-xl shadow overflow-hidden"},S={class:"overflow-x-auto"},q={class:"min-w-full table-auto hidden md:table"},G=["onClick"],T={class:"px-6 py-4 font-medium text-gray-800"},H={class:"px-6 py-4 text-gray-700"},L={class:"px-6 py-4 text-gray-600"},U={class:"px-6 py-4 text-right space-x-3"},J=["onClick"],K=["onClick"],O={class:"md:hidden divide-y bg-white"},P=["onClick"],Q={class:"flex justify-between items-start"},R={class:"font-semibold text-gray-900"},W={class:"text-gray-600 text-sm mt-1"},X={class:"text-gray-500 text-sm mt-1 italic"},Y={class:"flex gap-2"},Z=["onClick"],ee=["onClick"],te={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4"},se={class:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto"},ae={class:"text-lg font-bold text-azul mb-4"},oe={class:"flex flex-col gap-3"},le={class:"flex justify-end mt-5 gap-3"},ne={__name:"AreaAdm",setup(re){const l=x([]),d=x(!1),c=x(!1),o=x({id:null,name:""});x(null),E(async()=>{try{const s=await p.get("/areas");l.value=s.data}catch(s){console.error(s)}});const w=()=>{c.value=!1,o.value={id:null,name:""},d.value=!0},f=s=>{c.value=!0,o.value={...s},d.value=!0},k=async()=>{try{if(c.value){await p.put("/areas/"+o.value.id+"/"+o.value.name);const s=l.value.findIndex(a=>a.id===o.value.id);s!==-1&&(l.value[s]={...o.value})}else{const s=await p.post("areas/"+o.value.name);l.value.push(s.data)}d.value=!1}catch(s){console.error("Erro ao salvar área",s)}},_=async(s,a)=>{if(confirm(`Tens certeza que queres eliminar a área "${l.value[a].name}"?`))try{await p.delete("/areas/"+s),l.value.splice(a,1)}catch(t){console.error("Erro ao eliminar área",t)}},C=()=>d.value=!1,h=s=>console.log("Detalhes da área:",s);return(s,a)=>(i(),r("div",B,[g(N),e("main",D,[g(j),e("div",F,[e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-6"},[a[1]||(a[1]=e("h2",{class:"font-bold text-xl text-azul flex items-center gap-2"}," Gestão de Áreas ",-1)),e("div",{class:"flex items-center gap-3"},[e("button",{onClick:w,class:"bg-azul text-white px-4 py-2 rounded-xl shadow hover:bg-blue-800 transition text-sm sm:text-base w-full"}," + Adicionar Área ")])]),e("div",V,[e("div",I,[e("div",S,[e("table",q,[a[2]||(a[2]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Área"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Expositor"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Feedback"),e("th",{class:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Ações")])],-1)),e("tbody",null,[(i(!0),r(y,null,b(l.value,(t,v)=>(i(),r("tr",{key:t.id,class:"border-t hover:bg-gray-50 transition cursor-pointer",onClick:u=>h(t)},[e("td",T,n(t.name),1),e("td",H,n(t.expositantes),1),e("td",L,n(t.feedbacks),1),e("td",U,[e("button",{onClick:m(u=>f(t),["stop"]),class:"text-yellow-600 hover:text-yellow-700 font-medium text-sm"}," Editar ",8,J),e("button",{onClick:m(u=>_(t.id,v),["stop"]),class:"text-red-600 hover:text-red-700 font-medium text-sm"}," Eliminar ",8,K)])],8,G))),128))])])]),e("div",O,[(i(!0),r(y,null,b(l.value,(t,v)=>(i(),r("div",{key:t.id,class:"p-4 hover:bg-gray-50 cursor-pointer",onClick:u=>h(t)},[e("div",Q,[e("div",null,[e("p",R,n(t.name),1),e("p",W,"Expositor: "+n(t.expositantes),1),e("p",X,"Feedbacks: "+n(t.feedbacks),1)]),e("div",Y,[e("button",{onClick:m(u=>f(t),["stop"]),class:"text-yellow-600 text-sm"},"Editar",8,Z),e("button",{onClick:m(u=>_(t.id,v),["stop"]),class:"text-red-600 text-sm"},"Eliminar",8,ee)])])],8,P))),128))])])])]),d.value?(i(),r("div",te,[e("div",se,[e("h3",ae,n(c.value?"Editar Área":"Adicionar Nova Área"),1),e("div",oe,[a[3]||(a[3]=e("label",{class:"text-sm font-medium text-gray-700"},"Nome da Área",-1)),$(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>o.value.name=t),type:"text",placeholder:"Ex.: Informática",class:"border rounded-lg px-4 py-2 focus:outline-none focus:ring-azul focus:ring-1"},null,512),[[M,o.value.name]])]),e("div",le,[e("button",{onClick:C,class:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 text-sm"}," Cancelar "),e("button",{onClick:k,class:"px-4 py-2 bg-azul text-white rounded-lg hover:bg-blue-800 text-sm"},n(c.value?"Guardar":"Salvar"),1)])])])):z("",!0)])]))}},pe=A(ne,[["__scopeId","data-v-245bede8"]]);export{pe as default};
