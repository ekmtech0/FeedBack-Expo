import{_ as j,r as c,g as N,c as n,h as E,a as e,e as S,k as V,F as f,f as g,t as r,w as k,v as B,p as F,o as i,n as C,l as p}from"./index-B_mn7p7y.js";import $ from"./SideBar-CB9zmdFx.js";import U from"./HeaderAdm--6hzYapc.js";import{a as h}from"./api-AOc8D3zR.js";import"./ej branco-CvHQ7iQt.js";const D={class:"flex min-h-screen bg-gray-50"},G={class:"flex-1 md:ml-64"},H={class:"max-w-7xl mx-auto px-4 py-6"},T={class:"mt-6 space-y-6"},L={class:"bg-white rounded-xl shadow overflow-hidden"},P={class:"overflow-x-auto"},q={class:"min-w-full table-auto hidden md:table"},J={class:"px-6 py-4"},K={class:"px-6 py-4 font-medium text-gray-800"},O={class:"px-6 py-4 text-gray-600"},Q={class:"px-6 py-4 text-right space-x-3"},R=["onClick"],W=["onClick"],X={class:"md:hidden divide-y bg-white"},Y={class:"flex items-center gap-3"},Z={class:"font-semibold text-gray-900"},ee={class:"text-gray-600 text-sm mt-1"},te={class:"flex flex-col items-end gap-2"},se=["onClick"],ae=["onClick"],oe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",role:"dialog","aria-modal":"true"},le={class:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto"},re={class:"text-lg font-bold text-azul mb-4"},ne={class:"flex flex-col gap-3"},ie=["value"],de={class:"flex justify-end mt-5 gap-3"},ce={__name:"ExpositorAdm",setup(ue){const d=c([]),x=c([]);N(async()=>{try{const[s,t]=await Promise.all([h.get("areas"),h.get("expositantes")]);x.value=s.data,d.value=t.data.map(a=>({...a,area:x.value.find(l=>l.id===a.areaId)?.name||"Área desconhecida"}))}catch(s){console.error("Erro ao carregar dados:",s)}});const u=c(!1),m=c(!1),z=c(null),o=c({name:"",areaId:""}),I=()=>{m.value=!1,o.value={name:"",areaId:""},u.value=!0},b=s=>{m.value=!0,z.value=s,o.value={name:d.value[s].name,areaId:d.value[s].areaId},u.value=!0},M=async()=>{if(!(!o.value.name||!o.value.areaId))try{const{data:s}=await h.post("expositantes",o.value);d.value.push({...s,area:x.value.find(t=>t.id===s.areaId)?.name||"Área desconhecida"}),u.value=!1}catch(s){console.error("Erro ao salvar expositor:",s)}},y=s=>{d.value.splice(s,1)},A=()=>u.value=!1,_=s=>s?s.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?",w=s=>{const t=["bg-blue-500","bg-green-500","bg-pink-500","bg-yellow-500","bg-purple-500"];return s?t[s.length%t.length]:"bg-gray-400"};return(s,t)=>(i(),n("div",D,[E($),e("main",G,[E(U),e("div",H,[e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-6"},[t[2]||(t[2]=e("h2",{class:"font-bold text-xl text-azul flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-azul",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 12c2.21 0 4-1.79 4-4S14.21 4 12 4 8 5.79 8 8s1.79 4 4 4zM4 20c0-2.67 5.33-4 8-4s8 1.33 8 4v1H4v-1z"})]),V(" Gestão de Expositores ")],-1)),e("div",{class:"flex items-center gap-3"},[e("button",{onClick:I,class:"bg-azul text-white px-4 py-2 rounded-xl shadow hover:bg-blue-800 transition text-sm sm:text-base w-full","aria-label":"Adicionar expositor"}," + Adicionar Expositor ")])]),e("div",T,[e("div",L,[e("div",P,[e("table",q,[t[3]||(t[3]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Foto"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nome"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Área"),e("th",{class:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Ações")])],-1)),e("tbody",null,[(i(!0),n(f,null,g(d.value,(a,l)=>(i(),n("tr",{key:l,class:"border-t hover:bg-gray-50 transition"},[e("td",J,[e("div",{class:C(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-white",w(a.name)])},r(_(a.name)),3)]),e("td",K,r(a.name),1),e("td",O,r(a.area),1),e("td",Q,[e("button",{onClick:p(v=>b(l),["stop"]),class:"text-yellow-600 hover:text-yellow-700 font-medium text-sm","aria-label":"Editar expositor"}," Editar ",8,R),e("button",{onClick:p(v=>y(l),["stop"]),class:"text-red-600 hover:text-red-700 font-medium text-sm","aria-label":"Eliminar expositor"}," Eliminar ",8,W)])]))),128))])])]),e("div",X,[(i(!0),n(f,null,g(d.value,(a,l)=>(i(),n("div",{key:l,class:"p-4 hover:bg-gray-50 flex justify-between items-start"},[e("div",Y,[e("div",{class:C(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-white text-sm",w(a.name)])},r(_(a.name)),3),e("div",null,[e("p",Z,r(a.name),1),e("p",ee,"Área: "+r(a.area),1)])]),e("div",te,[e("button",{onClick:p(v=>b(l),["stop"]),class:"text-yellow-600 text-sm"},"Editar",8,se),e("button",{onClick:p(v=>y(l),["stop"]),class:"text-red-600 text-sm"},"Eliminar",8,ae)])]))),128))])])])]),u.value?(i(),n("div",oe,[e("div",le,[e("h3",re,r(m.value?"Editar Expositor":"Adicionar Novo Expositor"),1),e("div",ne,[t[5]||(t[5]=e("label",{class:"text-sm font-medium text-gray-700"},"Nome do Expositor",-1)),k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.name=a),type:"text",placeholder:"Expositor",class:"border rounded-lg px-4 py-2 focus:outline-none focus:ring-azul focus:ring-1"},null,512),[[B,o.value.name]]),t[6]||(t[6]=e("label",{class:"text-sm font-medium text-gray-700 mt-2"},"Área de Exposição",-1)),k(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.areaId=a),class:"border rounded-lg px-4 py-2 focus:outline-none focus:ring-azul focus:ring-1"},[t[4]||(t[4]=e("option",{value:""},"Selecionar área",-1)),(i(!0),n(f,null,g(x.value,a=>(i(),n("option",{key:a.id,value:a.id},r(a.name),9,ie))),128))],512),[[F,o.value.areaId]])]),e("div",de,[e("button",{onClick:A,class:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 text-sm"}," Cancelar "),e("button",{onClick:M,class:"px-4 py-2 bg-azul text-white rounded-lg hover:bg-blue-800 text-sm"},r(m.value?"Guardar":"Salvar"),1)])])])):S("",!0)])]))}},ge=j(ce,[["__scopeId","data-v-7fcc4159"]]);export{ge as default};
